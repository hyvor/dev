services:
    proxy:
        container_name: hyvor-proxy
        image: traefik:v3.2
        command:
           - "--log.level=DEBUG"
           - "--api.insecure=true"
           
           - "--providers.docker=true"
           - "--providers.docker.exposedbydefault=false"
           - "--providers.docker.network=hyvor-network"

           - "--providers.file.fileName=/etc/traefik/tls.yaml"
           - "--providers.file.watch=true"
           
           - "--entryPoints.http.address=:80"
           - "--entryPoints.https.address=:443"
        networks:
            - hyvor-network
        ports:
            - "80:80"
            - "443:443"
            - "8080:8080"
        volumes:
            - /var/run/docker.sock:/var/run/docker.sock
            - ./meta/traefik:/etc/traefik

networks:
    hyvor-network:
        external: true